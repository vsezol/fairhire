{
  "name": "@anticheat-interview/tracker-electron",
  "version": "0.0.1",
  "private": true,
  "type": "module",
  "main": "dist/main.js",
  "homepage": "https://github.com/anticheat-interview/anticheat-interview",
  "description": "AntiCheat Interview Application",
  "author": {
    "name": "AntiCheat Team",
    "email": "team@anticheat.com"
  },
  "build": {
    "appId": "com.anticheat.interview",
    "productName": "AntiCheat Interview",
    "executableName": "anticheat-interview",
    "directories": {
      "buildResources": "assets",
      "output": "../../release"
    },
    "files": [
      "dist/**/*",
      "../tracker-app/dist/**/*"
    ],
    "extraResources": [
      {
        "from": "../tracker-app/dist",
        "to": "tracker-app/dist",
        "filter": [
          "**/*"
        ]
      }
    ],
    "mac": {
      "icon": "assets/icon.icns",
      "target": [
        {
          "target": "dmg",
          "arch": [
            "x64",
            "arm64"
          ]
        }
      ],
      "category": "public.app-category.developer-tools",
      "identity": null,
      "entitlements": null,
      "entitlementsInherit": null,
      "hardenedRuntime": false,
      "notarize": false
    },
    "win": {
      "icon": "assets/icon.ico",
      "target": [
        {
          "target": "nsis",
          "arch": [
            "x64"
          ]
        }
      ]
    },
    "linux": {
      "icon": "assets/icon.png",
      "target": [
        {
          "target": "AppImage",
          "arch": [
            "x64"
          ]
        },
        {
          "target": "deb",
          "arch": [
            "x64"
          ]
        }
      ],
      "synopsis": "AntiCheat Interview Application",
      "category": "Development"
    },
    "nsis": {
      "oneClick": false,
      "allowToChangeInstallationDirectory": true,
      "installerIcon": "assets/icon.ico",
      "uninstallerIcon": "assets/icon.ico"
    }
  },
  "nx": {
    "targets": {
      "build": {
        "executor": "@nx/esbuild:esbuild",
        "outputs": [
          "{options.outputPath}"
        ],
        "defaultConfiguration": "production",
        "dependsOn": [
          "@anticheat-interview/tracker-app:build"
        ],
        "options": {
          "platform": "node",
          "outputPath": "apps/tracker-electron/dist",
          "bundle": false,
          "main": "apps/tracker-electron/src/main.ts",
          "tsConfig": "apps/tracker-electron/tsconfig.app.json",
          "assets": [
            "apps/tracker-electron/src/assets"
          ],
          "format": [
            "esm"
          ],
          "sourcemap": true
        },
        "configurations": {
          "development": {
            "define": {
              "process.env.NODE_ENV": "\"development\""
            }
          },
          "production": {
            "sourcemap": false,
            "declaration": false,
            "define": {
              "process.env.NODE_ENV": "\"production\""
            }
          }
        }
      },
      "serve": {
        "executor": "nx:run-commands",
        "defaultConfiguration": "development",
        "dependsOn": [
          "build"
        ],
        "options": {
          "parallel": false,
          "cwd": "{workspaceRoot}"
        },
        "configurations": {
          "development": {
            "commands": [
              "electron apps/tracker-electron/dist/main.js --dev"
            ]
          },
          "production": {
            "commands": [
              "electron apps/tracker-electron/dist/main.js"
            ]
          }
        }
      },
      "release": {
        "executor": "nx:run-commands",
        "dependsOn": [
          "build"
        ],
        "options": {
          "cwd": "apps/tracker-electron",
          "parallel": false
        },
        "configurations": {
          "mac": {
            "commands": [
              "electron-builder --mac --publish=never"
            ]
          },
          "win": {
            "commands": [
              "electron-builder --win --publish=never"
            ]
          },
          "linux": {
            "commands": [
              "mkdir -p ../../release/@anticheat-interview",
              "electron-builder --linux --publish=never",
              "cp -R ../../release/@anticheat-interview/* ../../release/",
              "rm -rf ../../release/@anticheat-interview"
            ]
          }
        }
      }
    }
  }
}
